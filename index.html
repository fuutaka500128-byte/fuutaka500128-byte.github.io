<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shinkansen Ticker</title>

<style>
  body {
    margin: 0;
    background: black;
    color: white;
    font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic ProN",
                 "Yu Gothic", Meiryo, sans-serif;
  }

  /* 下部表示エリア（赤枠想定） */
  .ticker-area {
    position: fixed;
    bottom: 0;
    width: 100%;
    height: 48px;
    overflow: hidden;
    background: black;
    border-top: 1px solid #333;
  }

  .ticker {
    display: inline-flex;
    align-items: center;
    white-space: nowrap;
    padding-left: 60%;
    animation: scroll-left 18s linear infinite;
  }

  .item {
    display: inline-flex;
    align-items: center;
    margin-right: 48px;
    font-size: 18px;
    line-height: 1;
  }

  .name { font-weight: bold; margin-right: 6px; }
  .number { margin-right: 16px; font-weight: bold; }
  .time { margin-right: 16px; }
  .dest { margin-right: 16px; }

  /* 色指定 */
  .nozomi { color: #ffd400; }
  .hikari { color: #ff3b3b; }
  .sakura { color: #ff77b7; }
  .mizuho { color: #ff9f1a; }
  .kodama { color: #3b82ff; }
  .tsubame { color: #5fd7ff; }

  @keyframes scroll-left {
    from { transform: translateX(0%); }
    to   { transform: translateX(-100%); }
  }
</style>
</head>

<body>

<div class="ticker-area">
  <div id="ticker" class="ticker"></div>
</div>

<script>
const trains = [
  { name: "みずほ", class: "mizuho", number: "612号", time: "22:30", dest: "鹿児島中央" },
  { name: "こだま", class: "kodama", number: "856号", time: "22:42", dest: "博多" },
  { name: "つばめ", class: "tsubame", number: "321号", time: "22:55", dest: "鹿児島中央" },
  { name: "のぞみ", class: "nozomi", number: "98号", time: "23:05", dest: "東京" },
  { name: "さくら", class: "sakura", number: "570号", time: "23:12", dest: "鹿児島中央" }
];

function getNowMinutes() {
  const now = new Date();
  return now.getHours() * 60 + now.getMinutes();
}

function timeToMinutes(t) {
  const [h, m] = t.split(":").map(Number);
  return h * 60 + m;
}

function renderTicker() {
  const ticker = document.getElementById("ticker");
  ticker.innerHTML = "";

  const now = getNowMinutes();

  const active = trains
    .filter(t => timeToMinutes(t.time) >= now)
    .sort((a, b) => timeToMinutes(a.time) - timeToMinutes(b.time));

  active.forEach(t => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <span class="name ${t.class}">${t.name}</span>
      <span class="number ${t.class}">${t.number}</span>
      <span class="time">${t.time}</span>
      <span class="dest">${t.dest}</span>
    `;
    ticker.appendChild(div);
  });

  ticker.style.animation =
    active.length === 0 ? "none" : "scroll-left 18s linear infinite";
}

renderTicker();
setInterval(renderTicker, 60000);
</script>

</body>
</html>